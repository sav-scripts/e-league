!function(){"use strict";function a(){var a=$(window).width(),c=$(window).height(),d=b.viewport;d.width=a,d.height=c;var e=d.index;d.width<=d.ranges[0]?d.index=0:d.index=1,d.changed=e!==d.index,PageControl.onResize(),QuestionControl.onResize(),Animator.onResize()}var b=window.Main={viewport:{width:0,height:0,ranges:[640],index:-1,changed:!1},init:function(){window._CLICK_="click",Menu.init(),PageControl.init(),QuestionControl.init(),Animator.init(),Animator.playIntro(),$(window).on("resize",a),a()}}}(),function(){function a(){d||(d=!0,c.mobileContainer.toggleClass("open-mode",!0))}function b(){d&&(d=!1,c.mobileContainer.toggleClass("open-mode",!1))}var c={},d=!1;window.Menu={init:function(){function d(){c.container=$("#menu");var a=c.container.find(".button-group"),d={};d.package=a.find(".button:nth-child(1)").on(_CLICK_,function(a){a.preventDefault(),b()}),d.goodEvent=a.find(".button:nth-child(3)").on(_CLICK_,function(a){a.preventDefault(),b()}),d.qAndA=a.find(".button:nth-child(5)").on(_CLICK_,function(a){a.preventDefault(),PageControl.toSection("/QandA"),b()}),d.doSearch=a.find(".button:nth-child(7)").on(_CLICK_,function(a){a.preventDefault(),b()}),d.toIntro=a.find(".button:nth-child(9)").on(_CLICK_,function(a){a.preventDefault(),PageControl.toSection("/Intro"),b()})}function e(){var d=c.mobileContainer=c.container.find(".mobile-button-container"),e=c.container.find(".trigger");d.on(_CLICK_,function(a){a.target===d[0]&&b()}),d.on("touchmove",function(a){a.preventDefault()}),e.on(_CLICK_,function(b){b.preventDefault(),a()})}d(),e()}}}(),function(){function a(){var a,d,e,f,g,h=Main.viewport,i=.5*h.height,j=b;for(a=0;a<c.sections.length;a++)if(d=c.sections[a],e=ScrollListener.testDom(d,i),e.contentInside&&"ignore"!==d._sectionType){f=d._anchor,g=d._sectionType;break}f&&(b=f,"/Intro"===f?RadialBackground.startFlash():RadialBackground.stopFlash(),"box"===g&&Animator.switchBoxAnime(f,!0),j&&j!==f&&Animator.switchBoxAnime(j,!1))}var b,c={sections:[]},d={},e={menuHeight:0};window.PageControl={init:function(){function b(a,b,e){d[a]=b[0],c.sections.push(b[0]),b[0]._anchor=a,b[0]._sectionType=e}var e=($("#scene-container"),$("#box-container"));b("/Intro",$("#intro"),"intro"),b("/QandA",$("#question-container"),"ignore"),b("/Box1",e.find(".box-1"),"box"),b("/Box2",e.find(".box-2"),"box"),b("/Box3",e.find(".box-3"),"box"),b("/Box4",e.find(".box-4"),"box"),b("/Box5",e.find(".box-5"),"box"),ScrollListener.init().bind(a),ScrollListener.active(),$(window).scrollTop(0)},toSection:function(a,b){var c=d[a];if(c){var f=$(c).offset().top-e.menuHeight;"/Intro"===a&&(f=0),ScrollListener.scrollTo(f,b)}},onResize:function(){e.menuHeight=$("#menu").height()}}}(),function(){var a=[];window.QuestionControl={init:function(){function b(a,b){for(var d=1;d<=b;d++)c(a,d)}function c(b,c){function e(){var a=Main.viewport.index;h._heightSetting[a]>0||(h.toggleClass("open-mode",!0),j.css("height",""),h._heightSetting[a]=j.height(),h.toggleClass("open-mode",!1))}function f(a){a||(k=!k);var b=Main.viewport.index;k?(h.toggleClass("open-mode",!0),j.css("height",h._heightSetting[b])):(h.toggleClass("open-mode",!1),j.css("height",""))}var g=d.find(".group-"+b),h=g.find(".question-"+c),i=h.find(".question-part"),j=h.find(".answer-part"),k=!1;i.on(_CLICK_,function(){f()}),a.push(h),h._switchBox=f,h._fetchHeight=e,h._heightSetting=[0,0]}var d=$("#question-container");b(1,3),b(2,7)},onResize:function(){Main.viewport.changed&&TweenMax.delayedCall(.1,function(){var b;for(b=0;b<a.length;b++){var c=a[b];c._fetchHeight(),c._switchBox(!0)}})}}}(),function(){function a(){var a=d.sceneContainer.find("#btn-to-questionaire"),b=new TimelineMax;b.set(a,{y:30,autoAlpha:0}),b.to(a,.5,{y:0,autoAlpha:1,ease:Power1.easeOut}),b.pause(),f.playBtnToQuestionaire=function(){b.restart()}}function b(){var a=d.sceneContainer.find("#intro"),b=a.find(".hero-blue"),c=a.find(".hero-pink"),e=a.find(".hero-green"),g=a.find(".topic"),h=a.find(".speed-line"),i=a.find(".float-container"),j=(a.find(".background"),b.clone());b.parent().append(j);var k=[b[0],j[0],c[0],e[0]],l=new TimelineMax;l.set(h,{autoAlpha:0}),l.set(g,{autoAlpha:0,marginTop:50}),l.set(b,{autoAlpha:0,marginLeft:100}),l.set(j,{autoAlpha:0,marginLeft:-100}),l.set(c,{autoAlpha:0,marginLeft:600}),l.set(e,{autoAlpha:0,marginLeft:-600}),l.set(k,{marginTop:-50}),l.set(i,{autoAlpha:1}),l.to(c,.6,{autoAlpha:1,marginLeft:0,ease:Back.easeOut.config(3)},0),l.to(e,.6,{autoAlpha:1,marginLeft:0,ease:Back.easeOut.config(3)},.2);var m=.5,n=1.1;l.to(b,n,{marginLeft:0,ease:Elastic.easeOut.config(2,.7)},m),l.to(j,n,{marginLeft:0,ease:Elastic.easeOut.config(2,.7)},m),l.to(b,n,{autoAlpha:1},m),l.to(j,n,{autoAlpha:1},m),l.set(j,{autoAlpha:0}),l.to(g,1,{autoAlpha:1,marginTop:0,ease:Back.easeInOut.config(5)},"-=.6"),l.to(k,1,{marginTop:0,ease:Back.easeInOut.config(5)},"-=1"),l.to(h,.3,{autoAlpha:1},"-=.5"),l.add(function(){f.playBtnToQuestionaire();var a=new TimelineMax;a.to(c,.3,{marginTop:-5,ease:Power1.easeOut});var d=new TimelineMax({repeat:-1});d.to(c,1,{marginTop:25,ease:Power1.easeInOut}),d.to(c,1,{marginTop:-5,ease:Power1.easeInOut}),a.add(d);var g=new TimelineMax({repeat:-1});g.to(e,1,{marginTop:30,ease:Power1.easeInOut}),g.to(e,1,{marginTop:0,ease:Power1.easeInOut});var h=new TimelineMax;h.to(b,.8,{marginTop:30,ease:Power1.easeOut});var i=new TimelineMax({repeat:-1});i.to(b,1,{marginTop:0,ease:Power1.easeInOut}),i.to(b,1,{marginTop:30,ease:Power1.easeInOut}),h.add(i)}),l.pause(),f.playIntro=function(){l.restart()}}var c=!1,d={},e={},f=window.Animator={init:function(){d.sceneContainer=$("#scene-container"),d.boxContainer=$("#box-container"),b(),a(),e=FlashLineManager.init(),c=!0},playIntro:null,playBtnToQuestionaire:null,switchBoxAnime:function(a,b){var c=e[a];c&&(b?c.startPlay():c.stopPlay())},onResize:function(){if(c){var a=Main.viewport;if(a.changed)for(var b=1;b<=5;b++){var e=d.boxContainer.find("#box-"+b+"-effects"),f=e.find(".graphic-container"),g=0===a.index?"url(#box-"+b+"-mask-mobile)":"url(#box-"+b+"-mask)";f.attr("clip-path",g)}}}}}(),function(){function a(){var a=$(document.createElementNS("http://www.w3.org/2000/svg","ellipse")).attr("cx",0).attr("cy",0).attr("rx",300).attr("ry",300).attr("fill","url(#grad1)");return c.container.prepend(a),a}function b(){var a,b;for(a=0;a<g.length;a++)b=g[a],b.css("fill",i);g=[]}var c={},d=!1,e=3600,f=null,g=[],h="#f7e8b5",i="#f7e08f",j=!1,k={deg:0,index:0},l=window.RadialBackground={init:function(){c.container=$("#radial-background"),TweenMax.set(c.container,{autoAlpha:0}),l.update(),f=new TimelineMax({repeat:-1,paused:!0}),f.add(function(){l.generateFlash()},.08),d=!0},fadeIn:function(){TweenMax.to(c.container,.5,{autoAlpha:1,ease:Power3.easeOut})},startFlash:function(){d&&(j||(j=!0,f.resume()))},stopFlash:function(){d&&j&&(j=!1,f.pause(),b())},boom:function(b){if(j){void 0===b&&(b=1);var c=a(),d=new TimelineMax;d.set(c,{scale:0,transformOrigin:"50% 50%"}),d.to(c,1*b,{scale:2,ease:Power1.easeInOut}),d.to(c,.3*b,{alpha:0},"-="+.3*b),d.add(function(){c.detach()})}},generateFlash:function(){var a,d=2,e=5,f=parseInt(Math.random()*e);for(b();f<c.beams.length;)a=$(c.beams[f]),a.css("fill",h),g.push(a),f+=d+parseInt(Math.random()*e)},update:function(){var a,b,d,f,g,h,j=k.deg,l=5,m=l+5;for(a=j-.5*l;a<j+360-.5*l;a+=m){g=Math.PI/180*a,h=Math.PI/180*(a+l),b="0,0 ",d=e*Math.cos(g)+","+e*Math.sin(g)+" ",f=e*Math.cos(h)+","+e*Math.sin(h)+" ";var n=document.createElementNS("http://www.w3.org/2000/svg","polygon");$(n).css("fill",i).attr("points",b+d+f),c.container.append(n)}c.beams=c.container.find("polygon")},onResize:function(){}}}(),function(){function a(a,c,d,e,f,g){var h=this;h._$container=a,h._$graphicContainer=a.find(".graphic-container"),h._width=parseInt(a.attr("width")),h._height=parseInt(a.attr("height")),void 0!==f&&(h._yOffset=f),void 0!==g&&(h._height+=g),h._backgroundTl=b(a,c,d),h._$floatContent=a.parent().find(".float-content")}function b(a,b,c){var d=a.find(".bg"),e={progress:0},f=new TimelineMax({yoyo:!0});return f.to(e,1.6,{progress:1,ease:Power3.easeOut,onUpdate:function(){var a=e.progress,f=parseInt((c.r-b.r)*a+b.r),g=parseInt((c.g-b.g)*a+b.g),h=parseInt((c.b-b.b)*a+b.b),i="rgba("+f+", "+g+", "+h+", 1)";d.attr("fill",i)}}),f.pause(),f}window.FlashLineManager={init:function(){var b=$("#box-container"),c={};return c["/Box1"]=new a(b.find("#box-1-effects"),{r:0,g:0,b:0},{r:254,g:245,b:4,a:1},150),c["/Box2"]=new a(b.find("#box-2-effects"),{r:255,g:255,b:255},{r:255,g:135,b:60,a:1},-171),c["/Box3"]=new a(b.find("#box-3-effects"),{r:255,g:255,b:255},{r:142,g:202,b:64,a:1},0),c["/Box4"]=new a(b.find("#box-4-effects"),{r:255,g:255,b:255},{r:0,g:1,b:1,a:1},0),c["/Box5"]=new a(b.find("#box-5-effects"),{r:255,g:255,b:255},{r:254,g:180,b:2,a:1},0),c}},window.FlashLine=a,a.prototype={_width:0,_height:0,_yOffset:0,_$container:void 0,_$graphicContainer:void 0,_$floatContent:void 0,_isPlaying:!1,_backgroundTl:void 0,startPlay:function(){var a=this;a._isPlaying||(a._isPlaying=!0,a._backgroundTl.restart(),TweenMax.delayedCall(.5,function(){a._$floatContent.toggleClass("visible-mode",!0)}))},stopPlay:function(){var a=this;a._isPlaying&&(a._isPlaying=!1)}}}(),function(){function a(a){if(!b&&f._isActive){var g=document.documentElement;d.left=(window.pageXOffset||g.scrollLeft)-(g.clientLeft||0),d.top=(window.pageYOffset||g.scrollTop)-(g.clientTop||0),d.width=$(window).width(),d.height=$(window).height(),e.scrollTop=$(window).scrollTop(),c&&c.call(null,d)}}var b=!1,c=null,d={top:0,left:0,width:0,height:0},e={scrollTop:0},f=window.ScrollListener={_isActive:!1,init:function(){return f},bind:function(a){c=a},active:function(){return f._isActive=!0,$(window).on("scroll",a),a(),f},disactive:function(){return f._isActive=!1,$(window).unbind("scroll",a),f},testDom:function(a,b,c){var e=a.getBoundingClientRect();void 0===b&&(b=0),void 0===c&&(c=0);var f=b,g=d.height+c;return{bound:e,topInside:e.top>=f&&e.top<=g,bottomInside:e.bottom>=f&&e.bottom<=g,contentInside:e.top<g&&e.bottom>f}},scrollTo:function(a,b,c){var d=c||1e3,f=Math.abs(a-e.scrollTop),g=Math.min(.8,f/d);TweenMax.killTweensOf(e),e.scrollTop=$(window).scrollTop(),TweenMax.to(e,g,{scrollTop:a,onStart:function(){},onUpdate:function(){window.scrollTo($(window).scrollLeft(),e.scrollTop)},onComplete:b})}}}();